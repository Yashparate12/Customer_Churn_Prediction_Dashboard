<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 25px;
        }

        .header h1 {
            color: #2d3748;
            font-size: 32px;
            margin-bottom: 10px;
        }

        .header p {
            color: #718096;
            font-size: 14px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .metric-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-left: 5px solid #667eea;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .metric-card h3 {
            color: #718096;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .metric-card .value {
            color: #2d3748;
            font-size: 36px;
            font-weight: bold;
        }

        .metric-card .subtext {
            color: #a0aec0;
            font-size: 13px;
            margin-top: 8px;
        }

        .predictor-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 25px;
        }

        .predictor-section h2 {
            color: #2d3748;
            font-size: 24px;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
        }

        .predictor-section h2::before {
            content: "üéØ";
            margin-right: 10px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
        }

        .input-group label {
            color: #4a5568;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .input-group input {
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .predict-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .predict-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .predict-btn:active {
            transform: translateY(0);
        }

        .result-section {
            margin-top: 30px;
            padding: 25px;
            border-radius: 10px;
            background: #f7fafc;
            display: none;
        }

        .result-section.show {
            display: block;
            animation: slideIn 0.5s;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .result-header {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2d3748;
        }

        .result-content {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .result-badge {
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
        }

        .result-badge.churn {
            background: #fed7d7;
            color: #c53030;
        }

        .result-badge.no-churn {
            background: #c6f6d5;
            color: #2f855a;
        }

        .probability-bar {
            flex: 1;
            min-width: 200px;
        }

        .probability-label {
            font-size: 14px;
            color: #4a5568;
            margin-bottom: 8px;
        }

        .bar-container {
            background: #e2e8f0;
            border-radius: 10px;
            height: 30px;
            overflow: hidden;
            position: relative;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #48bb78, #38a169);
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .bar-fill.high-risk {
            background: linear-gradient(90deg, #fc8181, #f56565);
        }

        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .chart-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            min-height: 350px;
        }

        .chart-card h3 {
            color: #2d3748;
            font-size: 18px;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .chart-container {
            position: relative;
            height: 280px;
            width: 100%;
        }

        canvas {
            max-height: 280px;
        }

        .insights-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .insight-item {
            display: flex;
            gap: 15px;
            padding: 15px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 10px;
            border-left: 4px solid #667eea;
            transition: all 0.3s ease;
        }

        .insight-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .insight-icon {
            font-size: 28px;
            min-width: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .insight-content h4 {
            color: #2d3748;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .insight-content p {
            color: #4a5568;
            font-size: 13px;
            line-height: 1.6;
        }

        .recommendation-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-top: 5px;
        }

        .badge-high {
            background: #fed7d7;
            color: #c53030;
        }

        .badge-medium {
            background: #fef3c7;
            color: #d97706;
        }

        .badge-low {
            background: #c6f6d5;
            color: #2f855a;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="header">
            <h1>Customer Churn Dashboard</h1>
            <p>Predict and analyze customer churn probability using machine learning</p>
        </div>

        <div class="metrics-grid" id="metricsGrid">
            <div class="metric-card">
                <h3>Customer Tenure</h3>
                <div class="value" id="metricTenure">--</div>
                <div class="subtext">Months with company</div>
            </div>
            <div class="metric-card">
                <h3>Monthly Charges</h3>
                <div class="value" id="metricMonthly">--</div>
                <div class="subtext">Current billing amount</div>
            </div>
            <div class="metric-card">
                <h3>Lifetime Value</h3>
                <div class="value" id="metricTotal">--</div>
                <div class="subtext">Total charges to date</div>
            </div>
            <div class="metric-card">
                <h3>Churn Risk</h3>
                <div class="value" id="metricRisk">--</div>
                <div class="subtext">Predicted probability</div>
            </div>
        </div>

        <div class="predictor-section">
            <h2>Churn Prediction Model</h2>
            
            <div class="input-grid">
                <div class="input-group">
                    <label for="tenure">Tenure (months)</label>
                    <input id="tenure" type="number" placeholder="e.g., 24" min="0">
                </div>
                <div class="input-group">
                    <label for="monthly">Monthly Charges ($)</label>
                    <input id="monthly" type="number" placeholder="e.g., 70.50" step="0.01" min="0">
                </div>
                <div class="input-group">
                    <label for="total">Total Charges ($)</label>
                    <input id="total" type="number" placeholder="e.g., 1500.00" step="0.01" min="0">
                </div>
            </div>

            <button class="predict-btn" onclick="predict()">Predict Churn Risk</button>

            <div class="result-section" id="result">
                <div class="result-header">Prediction Result</div>
                <div class="result-content">
                    <div class="result-badge" id="resultBadge"></div>
                    <div class="probability-bar">
                        <div class="probability-label" id="probLabel"></div>
                        <div class="bar-container">
                            <div class="bar-fill" id="barFill"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card">
                <h3>üìä Risk Factor Analysis</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>üìà Customer Profile Comparison</h3>
                <div class="chart-container">
                    <canvas id="barChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>üéØ Churn Probability Distribution</h3>
                <div class="chart-container">
                    <canvas id="lineChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>ü•ß Churn Risk Category</h3>
                <div class="chart-container">
                    <canvas id="pieChart"></canvas>
                </div>
            </div>
            <div class="chart-card">
                <h3>üí° Personalized Insights & Recommendations</h3>
                <div class="insights-container" id="insightsContainer">
                    <div class="insight-item">
                        <div class="insight-icon">üìä</div>
                        <div class="insight-content">
                            <h4>Enter Customer Data</h4>
                            <p>Fill in the customer information above and click "Predict Churn Risk" to see personalized insights and recommendations based on their profile.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let charts = {
            radar: null,
            bar: null,
            line: null,
            pie: null
        };

        // Initialize charts on page load
        window.onload = function() {
            initCharts();
        };

        function initCharts() {
            // Initialize empty charts
            const radarCtx = document.getElementById('radarChart').getContext('2d');
            charts.radar = new Chart(radarCtx, {
                type: 'radar',
                data: {
                    labels: ['Tenure Risk', 'Price Sensitivity', 'Engagement', 'Loyalty Score', 'Value Perception'],
                    datasets: [{
                        label: 'Risk Factors',
                        data: [0, 0, 0, 0, 0],
                        backgroundColor: 'rgba(102, 126, 234, 0.2)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(102, 126, 234, 1)'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });

            const barCtx = document.getElementById('barChart').getContext('2d');
            charts.bar = new Chart(barCtx, {
                type: 'bar',
                data: {
                    labels: ['Your Customer', 'Avg Retained', 'Avg Churned'],
                    datasets: [{
                        label: 'Tenure (months)',
                        data: [0, 35, 12],
                        backgroundColor: 'rgba(59, 130, 246, 0.8)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 2
                    },
                    {
                        label: 'Monthly Charges ($)',
                        data: [0, 65, 85],
                        backgroundColor: 'rgba(168, 85, 247, 0.8)',
                        borderColor: 'rgba(168, 85, 247, 1)',
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            const lineCtx = document.getElementById('lineChart').getContext('2d');
            charts.line = new Chart(lineCtx, {
                type: 'line',
                data: {
                    labels: ['0-10%', '10-20%', '20-30%', '30-40%', '40-50%', '50-60%', '60-70%', '70-80%', '80-90%', '90-100%'],
                    datasets: [{
                        label: 'Customer Distribution',
                        data: [1200, 1800, 2100, 1900, 1500, 1200, 900, 600, 400, 200],
                        borderColor: 'rgba(102, 126, 234, 1)',
                        backgroundColor: 'rgba(102, 126, 234, 0.1)',
                        tension: 0.4,
                        fill: true,
                        borderWidth: 3,
                        pointRadius: 0
                    },
                    {
                        label: 'Your Customer',
                        data: [],
                        borderColor: 'rgba(239, 68, 68, 1)',
                        backgroundColor: 'rgba(239, 68, 68, 1)',
                        pointRadius: 8,
                        pointHoverRadius: 10,
                        showLine: false
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Number of Customers'
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Churn Probability Range'
                            }
                        }
                    }
                }
            });

            // Initialize Pie Chart
            const pieCtx = document.getElementById('pieChart').getContext('2d');
            charts.pie = new Chart(pieCtx, {
                type: 'pie',
                data: {
                    labels: ['Churn Risk', 'Retention Likelihood'],
                    datasets: [{
                        data: [0, 100],
                        backgroundColor: [
                            'rgba(156, 163, 175, 0.3)',
                            'rgba(229, 231, 235, 0.5)'
                        ],
                        borderColor: [
                            'rgba(156, 163, 175, 0.5)',
                            'rgba(209, 213, 219, 0.8)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: {
                                    size: 13,
                                    weight: 'bold'
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed.toFixed(1) + '%';
                                }
                            }
                        },
                        title: {
                            display: true,
                            text: 'Make a prediction to see risk breakdown',
                            font: {
                                size: 12
                            },
                            color: '#9ca3af',
                            padding: {
                                top: 10,
                                bottom: 0
                            }
                        }
                    }
                }
            });
        }

        function updateCharts(tenure, monthly, total, probability, prediction) {
            // Update Radar Chart - Risk Factors
            const tenureRisk = Math.max(0, (1 - (tenure / 72)) * 100);
            const priceSensitivity = (monthly / 150) * 100;
            const engagement = (tenure / 72) * 100;
            const loyaltyScore = Math.min(100, (total / (monthly * 12)) * 50);
            const valuePerception = Math.max(0, 100 - priceSensitivity);

            charts.radar.data.datasets[0].data = [
                tenureRisk,
                priceSensitivity,
                engagement,
                loyaltyScore,
                valuePerception
            ];
            charts.radar.update();

            // Update Bar Chart - Comparison
            charts.bar.data.datasets[0].data[0] = tenure;
            charts.bar.data.datasets[1].data[0] = monthly;
            charts.bar.update();

            // Update Line Chart - Show customer position
            const probabilityIndex = Math.floor(probability * 10);
            const newData = new Array(10).fill(null);
            if (probabilityIndex < 10) {
                newData[probabilityIndex] = charts.line.data.datasets[0].data[probabilityIndex];
            }
            charts.line.data.datasets[1].data = newData;
            charts.line.update();

            // Update Pie Chart - Show churn vs stay probability based on actual prediction
            const churnProb = probability * 100;
            const stayProb = (1 - probability) * 100;
            
            // Update data
            charts.pie.data.datasets[0].data = [churnProb, stayProb];
            
            // Remove the placeholder title after first prediction
            charts.pie.options.plugins.title.display = false;
            
            // Update labels based on prediction result
            if (prediction === 1) {
                charts.pie.data.labels = ['‚ö†Ô∏è Will Likely Churn', '‚úì May Stay'];
            } else {
                charts.pie.data.labels = ['Low Churn Risk', '‚úì Will Likely Stay'];
            }
            
            // Update colors based on actual risk level from prediction
            if (prediction === 1) {
                // High risk - emphasize the churn portion
                if (probability > 0.7) {
                    // Critical Risk - Deep Red
                    charts.pie.data.datasets[0].backgroundColor = [
                        'rgba(220, 38, 38, 0.9)',
                        'rgba(34, 197, 94, 0.5)'
                    ];
                    charts.pie.data.datasets[0].borderColor = [
                        'rgba(220, 38, 38, 1)',
                        'rgba(34, 197, 94, 0.7)'
                    ];
                } else {
                    // High Risk - Regular Red
                    charts.pie.data.datasets[0].backgroundColor = [
                        'rgba(239, 68, 68, 0.9)',
                        'rgba(34, 197, 94, 0.5)'
                    ];
                    charts.pie.data.datasets[0].borderColor = [
                        'rgba(239, 68, 68, 1)',
                        'rgba(34, 197, 94, 0.7)'
                    ];
                }
            } else {
                // Low risk - emphasize the retention portion
                if (probability > 0.3) {
                    // Moderate Risk - Yellow/Orange
                    charts.pie.data.datasets[0].backgroundColor = [
                        'rgba(251, 191, 36, 0.6)',
                        'rgba(34, 197, 94, 0.9)'
                    ];
                    charts.pie.data.datasets[0].borderColor = [
                        'rgba(251, 191, 36, 0.8)',
                        'rgba(34, 197, 94, 1)'
                    ];
                } else {
                    // Low Risk - Muted/Green
                    charts.pie.data.datasets[0].backgroundColor = [
                        'rgba(156, 163, 175, 0.4)',
                        'rgba(34, 197, 94, 0.9)'
                    ];
                    charts.pie.data.datasets[0].borderColor = [
                        'rgba(156, 163, 175, 0.6)',
                        'rgba(34, 197, 94, 1)'
                    ];
                }
            }
            
            // Make border thicker for emphasis
            charts.pie.data.datasets[0].borderWidth = 3;
            charts.pie.update();
        }

        function updateInsights(tenure, monthly, total, probability, prediction) {
            const container = document.getElementById('insightsContainer');
            container.innerHTML = '';

            // Determine risk level
            let riskLevel, riskClass, riskIcon;
            if (probability > 0.7) {
                riskLevel = 'Critical Risk';
                riskClass = 'badge-high';
                riskIcon = 'üö®';
            } else if (probability > 0.5) {
                riskLevel = 'High Risk';
                riskClass = 'badge-high';
                riskIcon = '‚ö†Ô∏è';
            } else if (probability > 0.3) {
                riskLevel = 'Moderate Risk';
                riskClass = 'badge-medium';
                riskIcon = '‚ö°';
            } else {
                riskLevel = 'Low Risk';
                riskClass = 'badge-low';
                riskIcon = '‚úÖ';
            }

            // Risk Assessment
            const riskInsight = document.createElement('div');
            riskInsight.className = 'insight-item';
            riskInsight.innerHTML = `
                <div class="insight-icon">${riskIcon}</div>
                <div class="insight-content">
                    <h4>Risk Assessment <span class="recommendation-badge ${riskClass}">${riskLevel}</span></h4>
                    <p>This customer has a ${(probability * 100).toFixed(1)}% probability of churning. ${
                        probability > 0.5 
                            ? 'Immediate action is recommended to retain this customer.'
                            : 'Continue monitoring and maintain good service quality.'
                    }</p>
                </div>
            `;
            container.appendChild(riskInsight);

            // Tenure Analysis
            if (tenure < 12) {
                const tenureInsight = document.createElement('div');
                tenureInsight.className = 'insight-item';
                tenureInsight.innerHTML = `
                    <div class="insight-icon">‚è∞</div>
                    <div class="insight-content">
                        <h4>Short Tenure Alert</h4>
                        <p>Customer has only ${tenure} months of tenure. New customers are at higher churn risk. Consider onboarding support, loyalty programs, or special retention offers to build long-term commitment.</p>
                    </div>
                `;
                container.appendChild(tenureInsight);
            } else if (tenure > 48) {
                const tenureInsight = document.createElement('div');
                tenureInsight.className = 'insight-item';
                tenureInsight.innerHTML = `
                    <div class="insight-icon">üèÜ</div>
                    <div class="insight-content">
                        <h4>Loyal Customer</h4>
                        <p>With ${tenure} months of tenure, this is a valuable long-term customer. Maintain excellent service and consider VIP benefits to ensure continued loyalty.</p>
                    </div>
                `;
                container.appendChild(tenureInsight);
            }

            // Price Analysis
            if (monthly > 80) {
                const priceInsight = document.createElement('div');
                priceInsight.className = 'insight-item';
                priceInsight.innerHTML = `
                    <div class="insight-icon">üí∞</div>
                    <div class="insight-content">
                        <h4>High Monthly Charges</h4>
                        <p>Monthly charges of $${monthly.toFixed(2)} are above average. High-paying customers may be price-sensitive. Ensure they're receiving maximum value and consider personalized offers or premium support.</p>
                    </div>
                `;
                container.appendChild(priceInsight);
            }

            // Recommendations
            const recommendations = [];
            if (probability > 0.5) {
                recommendations.push('Assign dedicated account manager');
                recommendations.push('Offer retention discount (10-15%)');
                recommendations.push('Schedule personalized check-in call');
            } else if (probability > 0.3) {
                recommendations.push('Send satisfaction survey');
                recommendations.push('Highlight product features they may not be using');
            } else {
                recommendations.push('Continue standard engagement');
                recommendations.push('Consider upsell opportunities');
            }

            const actionInsight = document.createElement('div');
            actionInsight.className = 'insight-item';
            actionInsight.innerHTML = `
                <div class="insight-icon">üéØ</div>
                <div class="insight-content">
                    <h4>Recommended Actions</h4>
                    <p>${recommendations.join(' ‚Ä¢ ')}</p>
                </div>
            `;
            container.appendChild(actionInsight);
        }

        function predict() {
            const tenure = Number(document.getElementById("tenure").value);
            const monthly = Number(document.getElementById("monthly").value);
            const total = Number(document.getElementById("total").value);

            if (!tenure || !monthly || !total) {
                alert("Please fill in all fields");
                return;
            }

            // Mock prediction logic
            const tenureScore = Math.min(tenure / 72, 1);
            const chargeScore = Math.min(monthly / 150, 1);
            const consistencyScore = total / (monthly * tenure || 1);
            
            let probability = (chargeScore * 0.4) + ((1 - tenureScore) * 0.4) + ((1 - Math.min(consistencyScore, 1)) * 0.2);
            probability = Math.max(0.05, Math.min(0.95, probability));
            
            const prediction = probability > 0.5 ? 1 : 0;

            // Update metrics
            document.getElementById('metricTenure').textContent = tenure;
            document.getElementById('metricMonthly').textContent = '$' + monthly.toFixed(2);
            document.getElementById('metricTotal').textContent = '$' + total.toFixed(2);
            document.getElementById('metricRisk').textContent = (probability * 100).toFixed(1) + '%';

            // Update charts with customer data
            updateCharts(tenure, monthly, total, probability, prediction);

            // Update insights
            updateInsights(tenure, monthly, total, probability, prediction);

            displayResult(prediction, probability);
        }

        function displayResult(prediction, probability) {
            const resultSection = document.getElementById("result");
            const resultBadge = document.getElementById("resultBadge");
            const probLabel = document.getElementById("probLabel");
            const barFill = document.getElementById("barFill");

            resultSection.classList.add("show");

            if (prediction === 1) {
                resultBadge.className = "result-badge churn";
                resultBadge.innerText = "‚ö†Ô∏è High Churn Risk";
                barFill.classList.add("high-risk");
            } else {
                resultBadge.className = "result-badge no-churn";
                resultBadge.innerText = "‚úÖ Low Churn Risk";
                barFill.classList.remove("high-risk");
            }

            const percentValue = (probability * 100).toFixed(1);
            probLabel.innerText = `Churn Probability: ${percentValue}%`;
            
            setTimeout(() => {
                barFill.style.width = percentValue + "%";
                barFill.innerText = percentValue + "%";
            }, 100);

            resultSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
    </script>
</body>
</html>